language: node_js
node_js:
- stable
- "lts/*"
env:
  matrix:
  - CMD=build
  - CMD=lint
  - CMD=test

matrix:
  allow_failures:
    - env: CMD=build
script:
- yarn $CMD
after_success:
- '[ "$CMD" == "test" ] && yarn coverage'
notifications:
  email: false
